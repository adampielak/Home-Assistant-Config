---
# Bedtime Script
# Called by Bedtime Automation
# This script controls the inside lights in the going to bed routine

bedtime_inside_lights:
  alias: Bedtime Inside Lights
  sequence:
  
    - service: input_boolean.turn_on
      data:
        entity_id:
          - input_boolean.disable_circadian_lighting_kitchen_downlights
          - input_boolean.disable_circadian_lighting_living_room_downlights
          - input_boolean.disable_circadian_lighting_dining_room_downlights
          - input_boolean.disable_circadian_lighting_under_bridge_downlights
          - input_boolean.disable_circadian_lighting_laundry_downlights
          - input_boolean.disable_circadian_lighting_downstairs_bathroom_light
          - input_boolean.disable_circadian_lighting_office_downlights
          - input_boolean.disable_circadian_lighting_pantry_light
          - input_boolean.disable_circadian_lighting_laundry_cupboard_light

          #- input_boolean.disable_circadian_lighting_entry_downlights
          #- input_boolean.disable_circadian_lighting_kitchen_pendants
          #- input_boolean.disable_circadian_lighting_landing_downlights
          #- input_boolean.disable_circadian_lighting_master_bathroom_led
          #- input_boolean.disable_circadian_lighting_master_bathroom_light
          #- input_boolean.disable_circadian_lighting_master_bedroom_downlights
          #- input_boolean.disable_circadian_lighting_upstairs_living_downlights

    - service: light.turn_off
      data:
        entity_id:
          - light.kitchen_downlights
          - light.living_room_downlights
          - light.dining_room_downlights
          - light.under_bridge_downlight_1
          - light.under_bridge_downlight_3
          - light.back_room_lights
          - light.office_lights
          - light.pantry_light
          - light.laundry_cupboard_light
        transition: 30

    - delay:
        minutes: 1

    - service: input_boolean.turn_off
      data:
        entity_id:
          - input_boolean.disable_circadian_lighting_kitchen_downlights
          - input_boolean.disable_circadian_lighting_living_room_downlights
          - input_boolean.disable_circadian_lighting_dining_room_downlights
          - input_boolean.disable_circadian_lighting_under_bridge_downlights
          - input_boolean.disable_circadian_lighting_laundry_downlights
          - input_boolean.disable_circadian_lighting_downstairs_bathroom_light
          - input_boolean.disable_circadian_lighting_office_downlights
          - input_boolean.disable_circadian_lighting_pantry_light
          - input_boolean.disable_circadian_lighting_laundry_cupboard_light

    - delay:
        minutes: 10

    - service: input_boolean.turn_on
      data:
        entity_id:
          - input_boolean.disable_circadian_lighting_upstairs_living_downlights
          - input_boolean.disable_circadian_lighting_kitchen_pendants
          - input_boolean.disable_circadian_lighting_under_bridge_downlights
          - input_boolean.disable_circadian_lighting_entry_downlights
          - input_boolean.disable_circadian_lighting_landing_downlights

    - service: light.turn_off
      data:
        entity_id:
          - light.upstairs_living_lights
          - light.ambient_lights
          - light.kitchen_pendants
          - light.under_bridge_downlight_2
        transition: 30

    - delay:
        minutes: 1

    - service: input_boolean.turn_off
      data:
        entity_id:
          - input_boolean.disable_circadian_lighting_upstairs_living_downlights
          - input_boolean.disable_circadian_lighting_kitchen_pendants
          - input_boolean.disable_circadian_lighting_under_bridge_downlights
          - input_boolean.disable_circadian_lighting_entry_downlights
          - input_boolean.disable_circadian_lighting_landing_downlights
